CREATE TABLE IF NOT EXISTS public.inscricao_vestibular
(
    id integer NOT NULL,
    pessoa_id integer NOT NULL,
    curso_id integer NOT NULL,
    ano date NOT NULL,
    situacao_id integer NOT NULL,
    PRIMARY KEY (id)
);

CREATE SEQUENCE public.inscricao_vestibular_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 999999;

ALTER TABLE public.inscricao_vestibular
    ALTER COLUMN id SET DEFAULT nextval('inscricao_vestibular_seq')::regclass;

ALTER TABLE public.inscricao_vestibular
    ADD CONSTRAINT inscricao_pessoa_fk FOREIGN KEY (pessoa_id)
    REFERENCES public.pessoa (id)
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;

ALTER TABLE public.inscricao_vestibular
    ADD CONSTRAINT inscricao_curso_fk FOREIGN KEY (curso_id)
    REFERENCES public.curso (id)
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;

ALTER TABLE public.inscricao_vestibular
    ADD CONSTRAINT inscricao_situacao_fk FOREIGN KEY (situacao_id)
    REFERENCES public.situacao (id)
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;